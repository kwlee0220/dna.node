id: ai_city:05

camera:
  uri: data/ai_city/ai_city_05.mp4
  sync: False
  # begin_frame: 700
  # end_frame: 3000

tracker:
  detector: dna.detect.yolov5:model=l6&score=0.1&agnostic=True&max_det=50&classes=car,bus,truck
  draw: ["tracks", "track_zones"]
  max_age: 30
  track_zones:
    - [[1,277], [450,99], [599,96], [1172,280], [960,955], [0,956]]
  magnifying_zones:
    - [120, 90, 760, 530]
  exit_zones:
    - [[222, 187], [331, 147], [242, 121], [156, 165]]  # 윗쪽 왼쪽 출구
    - [[1007, 225], [767, 152], [970, 68], [1119, 139]] # 윗쪽 오른쪽 출구
    - [[2, 499], [43, 468], [21, 329], [1, 332]]    # 왼쪽 출구
    - [[1070, 607], [960, 958], [1277, 958], [1279, 731]] # 아랫쪽 오른쪽 출구
  stable_zones:
    - [[103, 381], [13, 252], [321, 129], [454, 215]]

publishing:
  refine_buffer_size: 60
  min_path_length: 10
  plugins:
    zone_pipeline:
      zones:
        0: [[299, 203], [128, 275], [61, 282], [87, 309], [322, 207]]
        1: [[382, 132], [273, 179], [305, 191], [398, 146]]
        2: [[492, 125], [681, 171], [642, 177], [465, 135]]
        3: [[769, 152], [742, 180], [941, 260], [988, 225]]
        4: [[109, 449], [458, 924], [364, 929], [64, 457]]
        5: [[100, 359], [43, 284], [1, 303], [89, 426]]
        6: [[1012, 623], [927, 561], [734, 935], [817, 951]]
        7: [[1022, 379], [894, 529], [816, 498], [974, 306]]
      motions:
          '05': 1
          '06': 2
          '03': 3
          '21': 4
          '25': 5
          '205': 5
          '26': 6
          '73': 7
          '71': 8
          '75': 9
          '46': 10
          '43': 11
          '41': 12
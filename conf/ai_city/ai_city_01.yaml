id: ai_city:01

camera:
  uri: data/ai_city/ai_city_01.mp4
  sync: False
  # begin_frame: 880
  end_frame: 3000

tracker:
  draw: ["tracks", "track_zones"]
  detection_min_size: [15, 15]

  iou_dist_threshold: [150, 0.8]

  metric_min_detection_size: [25, 25]
  metric_registry_min_detection_size: [25, 25]
  
  max_age: 30

  track_zones:
    - [[1,150], [844,96], [1277,277], [1277,750], [2,683]]
  magnifying_zones:
    - [448, 125, 1160, 642]
  exit_zones:
    - [[1034, 174], [1112, 208], [1147, 165], [1074, 136]]    # 윗쪽 출구
    - [0, 245, 40, 345]            # 왼쪽 출구
    - [1210, 470, 1280, 680]  # 오른쪽 출구
  stable_zones:
    - [[66, 261], [772, 161], [795, 202], [79, 315]]

publishing:
  refine_buffer_size: 60
  min_path_length: 10
  plugins:
    zone_pipeline:
      zones:
        0: [[919, 196], [874, 150], [903, 143], [953, 190]]
        1: [[80, 230], [130, 230], [130, 310], [80, 310]]
        2: [[244, 286], [329, 274], [338, 377], [252, 393]]
        3: [[1003, 172], [1042, 157], [1133, 196], [1100, 217]]
        4: [[186, 410], [281, 410], [281, 558], [186, 558]]
        5: [[1100, 450], [1200, 450], [1200, 610], [1100, 610]]
        6: [[952, 375], [1025, 375], [1025, 478], [952, 478]]
        7: [[445, 381], [646, 329], [736, 355], [530, 426]]
      zone_sequence_patterns:
          '1': '[^1]*1$'
          '3': '^.*7.*3$'
          '2': '^[^7]*3$'
          '4': '^4.*5$'